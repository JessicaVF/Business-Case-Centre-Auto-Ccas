<!-- Form to edit the garage if the user click in the btn "edit" -->
<div *ngIf="editGarage == garage.id; else regularDisplay">
  <form [formGroup]="editGarageForm" (ngSubmit)="submitForm()" class="d-flex flex-column">
    <label for="name">Nom:</label>
    <input id="name" type="text" value="{{garage.name}}" formControlName="name">
    <label for="telephone">Téléphone:</label>
    <input id="telephone" type="text" value="{{garage.telephone}}" formControlName="telephone">
    <strong class="mt-1">Adresse</strong>
    <label for="number">Numéro:</label>
    <input id="number" type="number" value="{{garage.address.number}}" formControlName="number">
    <label for="complement">Complément:</label>
    <input id="complement" type="text" value="{{garage.address.complement}}" formControlName="complement">
    <label for="road">Rue:</label>
    <input id="road" type="text" value="{{garage.address.road}}" formControlName="road">
    <label for="codePostal">Code posta: </label>
    <input id="codePostal" type="text" value="{{garage.address.codePostal}}" formControlName="codePostal">
    <label for="city">Ville: </label>
    <input id="city" type="text" value="{{garage.address.city}}" formControlName="city">
    <div class="mt-2">
      <button type="submit" class="btn red rounded-pill">Editer</button>
      <button class="btn greyVersion rounded-pill m-1" (click)="cancelEditGarage">Annuler</button>
    </div>
  </form>
</div>

<!-- The form that will be show for default -->
<ng-template #regularDisplay>
  <div class="card m-2" style="width: 18rem;">
    <div class="card-body">
      <h5 class="card-title">{{garage.name}}</h5>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">Nom: {{garage.name}}</li>
      <li class="list-group-item">Telephone: {{garage.telephone}}</li>
      <li class="list-group-item"> Adresse: {{garage.address.number}}
        <span *ngIf="garage.address.complement != null">
          {{garage.address.complement}}
        </span>{{garage.address.road}}, {{garage.address.codePostal}}, {{garage.address.city}}
      </li>
      <div *ngIf="isAdmin" class="list-group-flush">
        <li class="list-group-item"> Propriétaire: {{garage.user.firstname}} {{garage.user.lastname}}</li>
      </div>
    </ul>
    <div class="card-body">
      <div *ngIf="garage.annonces.length >0; else notAnnoncesDisplay">
        <button [routerLink]="['/garage/detail', garage.id]" target="_blank" class="btn btn-outline-secondary">Voir les
          annonces
        </button>
      </div>
      <ng-template #notAnnoncesDisplay> You dont have annonces</ng-template>
      <hr>
      <button class="btn btn-outline-secondary" (click)="edit(garage.id)">Editer</button>
      <hr>
      ATTENTION, ici vous supprimez votre compte
      <br>
      <app-delete-modal [data]="data"></app-delete-modal>
    </div>
  </div>
</ng-template>
<br>
