<section id="search_bar" class="shadow m-5 text-center">
  <h2>Trouvez votre voiture idéale</h2>
  <div class=" d-flex flex-column flex-lg-row">

    <form method="post">
      <select name="make" [(ngModel)]="marqueSelected" (ngModelChange)="getModels()">
        <option *ngFor=" let marque of marques" value={{marque.id}}>{{marque.name}}</option>
      </select>
      <select name="model">
        <option *ngFor="let model of models" value={{model.name}}>{{model.name}}</option>
      </select>
    </form>

    <div ngbDropdown class="d-inline-block mx-3">
      <button class="btn grey rounded-pill" id="dropMarque" ngbDropdownToggle>Marque</button>
      <div ngbDropdownMenu aria-labelledby="dropMarque">
        <button ngbDropdownItem *ngFor=" let marque of marques">{{marque.name}}</button>
      </div>
    </div>
    <div ngbDropdown class=" d-inline-block mx-3">
      <button class="btn grey rounded-pill" id="dropModele" ngbDropdownToggle>Modèle</button>
      <div ngbDropdownMenu aria-labelledby="dropModele">
        <button ngbDropdownItem *ngFor=" let modele of marques">{{modele.modeles}}</button>
      </div>

      <!-- WORKING IN HOW TO DISPLAY ONE MODEL FOR LINE
        check: https://stackoverflow.com/questions/49404844/how-to-combine-ngif-with-ngfor
      <li *ngFor=" let modele in modeles">{{modele}</li>
      -->

    </div>
    <div ngbDropdown class="d-inline-block mx-3">
      <button class="btn grey rounded-pill" id="dropCarburant" ngbDropdownToggle>Carburant</button>
      <div ngbDropdownMenu aria-labelledby="dropCarburant">
        <button ngbDropdownItem *ngFor=" let carburant of carburants">{{carburant}}</button>
      </div>
    </div>

    <div class="mx-3 sliderContainer">
      <form [formGroup]="anneeForm" class="custom-slider">
        <label> Année de mise en Circulation</label>
        <ngx-slider [options]="optionsA" formControlName="annee">
        </ngx-slider>
      </form>
    </div>
    <div class="mx-3 sliderContainer">
      <form [formGroup]="kilometrageForm" class="custom-slider">
        <label> kilométrage</label>
        <ngx-slider [options]="optionsB" formControlName="kilometrage"></ngx-slider>
      </form>
    </div>
    <div class="mx-3 sliderContainer">
      <form [formGroup]="prixForm" class="custom-slider">
        <label> Prix</label>
        <ngx-slider [options]="optionsC" formControlName="prix"></ngx-slider>
      </form>
    </div>
    <div class="col"><button type="submit" class="btn red rounded-pill">Recherchez</button></div>
  </div>
</section>
